<ion-view view-title="Confirmation">
  <ion-content class="padding" style='background: linear-gradient(to bottom right,#D3D3D3,white,white,#D3D3D3)'>
          <font size="5" color="grey"><b>Flight information</b></br></br></font>
          <div class='serif'>
            <p>From: {{selectedOutgoingFlight.origin}}</p>
            <p>To: {{selectedOutgoingFlight.destination}}</p>
            <p>Outgoing Date: {{selectedOutgoingFlight.departureDateTime | date: 'd/M/yyyy HH:mm'}}</p>
            <p>Outgoing Flight #: {{selectedOutgoingFlight.flightNumber}}</p>
            <p>Outgoing airline: {{selectedOutgoingFlight.Airline}}</p>
            <p ng-show="roundTrip == 'true'">Return Date: {{selectedReturnFlight.departureDateTime | date: 'd/M/yyyy HH:mm'}}</p>
            <p ng-show="roundTrip == 'true'">Return Flight #: {{selectedReturnFlight.flightNumber}}</p>
            <p ng-show="roundTrip == 'true'">Return airline: {{selectedReturnFlight.Airline}}</p>
            <p>Price: {{price | currency: selectedOutgoingFlight.currency+" "}}</p>
          </div>
            <div class="center">
              <h4 style=" color:rgba(178,34,34, 1)"><b>Passenger Details</b></h4>
            </div>
            <div>
              <form name='details'>
                </br>
                  <div>
                  <font size="5" color="grey"><b>Contact Details</b></font>
                </div>
                </br>
                <md-input-container class="md-block" flex-gt-sm>
                  <label style='font-size: 1.5em;color:black'>Phone number</label>
                    <input type="number" ng-model="reservation.phoneno" name='phone' ng-required='true' ng-maxlength='12' ng-minlength='10'>
                    <span style='color:red' ng-show="(details.phone.$error.required || details.phone.$error.number) && details.phone.$dirty">Valid phone number is required</span>
                    <span style='color:red' ng-show="((details.phone.$error.minlength || details.phone.$error.maxlength) && details.phone.$dirty) ">Phone number should be from 10 to 12 digits</span>
                      <md-tooltip md-visible='true' md-direction='top'>e.g. 0229554109</md-tooltip>
                </md-input-container>
                <md-input-container class="md-block" flex-gt-sm>
                  <label style='font-size: 1.5em;color:black'>Email</label>
                    <input type="email" ng-model="reservation.email" ng-required='true' name='email'>
                    <span style='color:red' ng-show="(details.email.$error.required || details.email.$error.email) && details.email.$dirty">Valid email is required</span>
                    <md-tooltip md-visible='true' md-direction='top'>e.g. John@gmail.com</md-tooltip>
                </md-input-container>
                <div>
                      <div>
                        <font size="5" color="grey"><b>Passenger information</br></b></font>
                      </div>
                      </br>
                      </br>
                      <md-input-container class="md-block" flex-gt-sm>
                        <label style='font-size: 1.5em;color:black'>First Name</label>
                          <input name='FName' type="text" ng-model="reservation.FName" ng-required='true' ng-pattern="/^[a-zA-Z]*$/">
                          <span style='color:red' ng-show="(details.FName.$error.pattern || details.FName.$error.required) && details.FName.$dirty">Valid first name is required (no numbers, spaces, or special symbols)</span>
                          <md-tooltip md-visible='true' md-direction='top'>e.g. John</md-tooltip>
                      </md-input-container>
                      <md-input-container class="md-block" flex-gt-sm>
                        <label style='font-size: 1.5em;color:black'>Last Name</label>
                          <input name='LName' type="text" ng-model="reservation.LName" ng-required='true' ng-pattern="/^[a-zA-Z]*$/">
                          <span style='color:red' ng-show="(details.LName.$error.pattern || details.LName.$error.required) && details.LName.$dirty">Valid last name is required (no numbers, spaces, or special symbols)</span>
                          <md-tooltip md-visible='true' md-direction='top'>e.g. Doe</md-tooltip>
                      </md-input-container>
                      <md-input-container class="md-block" flex-gt-sm>
                        <label style='font-size: 1.5em;color:black'>Passport Number</label>
                          <input name='pNo' type="number" ng-model="reservation.passportNo" ng-required='true' ng-maxlength='9' ng-minlength='9'>
                          <span style='color:red' ng-show="(details.pNo.$error.required || details.pNo.$error.number) && details.pNo.$dirty">Valid passport number is required</span>
                          <span style='color:red' ng-show="((details.pNo.$error.minlength || details.pNo.$error.maxlength) && details.pNo.$dirty) ">Passport number should be 9 digits long</span>
                          <md-tooltip md-visible='true' md-direction='top'>e.g. 123456789</md-tooltip>
                      </md-input-container>
                      <md-input-container class="md-block" flex-gt-sm>
                        <label style='font-size: 1.5em;color:black'>Country of issue</label>
                        <div ng-include src="'./assets/countries.html'"></div>
                        <md-tooltip md-visible='true' md-direction='top'>Choose a country</md-tooltip>
                      </md-input-container>
                      <md-input-container class="md-block" flex-gt-sm>
                        <label style='font-size: 1.5em;color:black'>Issue Date:</label>
                          <input name='issueDate' type="date" ng-model="reservation.issueDate" ng-required='true' max='{{currentDate | date:"yyyy-MM-dd"}}'>
                          <span style='color:red' ng-show="(details.issueDate.$error.required || details.issueDate.$error.date) && details.issueDate.$dirty">Valid date is required (yyyy-MM-dd)</span>
                          <span style='color:red' ng-show="ddetails.issueDate.$error.max && details.issueDate.$dirty">Issue date must be before the current date</span>
                          <md-tooltip md-visible='true' md-direction='top'>e.g. 2014-02-02</md-tooltip>
                      </md-input-container>
                      <md-input-container class="md-block" flex-gt-sm>
                        <label style='font-size: 1.5em;color:black'>Expiry Date:</label>
                          <input name='expiryDate' type="date" ng-model="reservation.expiryDate" ng-required='true' min='{{currentDate | date:"yyyy-MM-dd"}}'>
                          <span style='color:red' ng-show="(details.expiryDate.$error.required || details.expiryDate.$error.date) && details.expiryDate.$dirty">Valid date is required (yyyy-MM-dd)</span>
                          <span style='color:red' ng-show="details.expiryDate.$error.min && details.expiryDate.$dirty">Passport is expired</span>
                        <md-tooltip md-visible='true' md-direction='top'>e.g. 2017-02-02</md-tooltip></div>
                      </md-input-container>
                </div>
            </div>
    <button type="button" ng-disabled='details.$invalid' class="btn" style="background:rgba(178,34,34, 1);margin-top: 15px" ng-click="goToPayment()">Proceed to payment</button>
    </form>
  </ion-content>
</ion-view>
